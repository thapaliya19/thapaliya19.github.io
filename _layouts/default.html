<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{{ page.title | default: site.title }}</title>
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
  <!-- Title & Description -->
  <title>{{ page.title | default: site.title }}</title>
  <meta name="description" content="{{ page.description | default: site.description }}">

    <!-- Jekyll SEO Tag -->
    {% seo %}
</head>
<body>
  <main>
    {{ content }}
  </main>

  <footer>
    <p>&copy; {{ site.time | date: '%Y' }} {{ site.title }} | Inspired from <a href="https://perfectmotherfuckingwebsite.com/">here</a>.</p>
  
  <!-- theme toggle button -->
  <button id="theme-toggle" aria-label="Toggle theme"></button>

  <script>
    (function(){
      const btn  = document.getElementById('theme-toggle');
      const root = document.documentElement;
      // 1. default to light unless user saved dark
      const stored = localStorage.getItem('theme');
      if (stored === 'dark') {
        root.classList.add('dark');
      } else {
        root.classList.add('light');
      }
      // 2. on click, flip light<->dark and persist
      btn.addEventListener('click', () => {
        if (root.classList.contains('dark')) {
          root.classList.replace('dark','light');
          localStorage.setItem('theme','light');
        } else {
          root.classList.replace('light','dark');
          localStorage.setItem('theme','dark');
        }
      });
    })();
  </script>

  <!-- open all links in new tab -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.querySelectorAll('a').forEach(a => {
        // skip internal anchors
        const href = a.getAttribute('href') || "";
        if (!href.startsWith("#")) {
          a.setAttribute('target', '_blank');
          a.setAttribute('rel', 'noopener noreferrer');
        }
      });
    });
  </script>
</body>
</html>
